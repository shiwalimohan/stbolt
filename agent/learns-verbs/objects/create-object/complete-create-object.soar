# copy-result
# When nothing more can be done to create the object, it copies the result
#   to the superstate (will retract the create-object operator)

sp {create-object*propose*complete-create-object
   (state <s> ^name create-object
              ^object <obj>)
-->
   (<s> ^operator <o> +)
   (<o> ^name complete-create-object)
}

sp {create-object*apply*complete-create-object
   (state <s> ^name create-object
              ^superstate <ss>
              ^operator.name complete-create-object
              ^object <obj>)
-->
   (<ss> ^object <obj>)
}
              
sp {create-object*apply*complete-create-object*needs*comprehend
   (state <s> ^name create-object
              ^operator.name complete-create-object
              ^object <obj>
              ^topstate <top>)
   (<top> -^comprehend-att.internal <internal-att>)
   (<obj> ^mapping.att-val-pair <av-pair>)
   (<av-pair> -^att.external <external-att>
              ^att.internal <internal-att>)
-->
   (<top> ^comprehend-att.internal <internal-att>)
}