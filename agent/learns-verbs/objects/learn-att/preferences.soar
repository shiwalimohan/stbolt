# Learn new values before storing the attribute
sp {prefer*learn-val*over*store-att
   (state <s> ^name learn-att
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name learn-val)
   (<o2> ^name store-att)
-->
   (<s> ^operator <o1> > <o2>)
}

# Store the attribute before updating the objects
sp {prefer*store-att*over*update-objects
   (state <s> ^name learn-att
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name store-att)
   (<o2> ^name update-objects)
-->
   (<s> ^operator <o1> > <o2>)
}


# make sure complete operator is last
sp {learn-att*prefer*all*over*complete-learn-att
   (state <s> ^name learn-att
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^name <> complete-learn-att
         ^category object-processing)
   (<o2> ^name complete-learn-att)
-->
   (<s> ^operator <o1> > <o2>)
}