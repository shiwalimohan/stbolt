sp {apply*process-message*goto*1
   (state <s> ^name responder
              ^operator <o>
              ^io.input-link.message <message>)
   (<o> ^name process-message
        ^message <msgID>)
   (<message> ^id <msgID>
          ^words <w1>)
   (<w1> ^word goto
         ^next <w2>)
   (<w2> ^word <place>
         -^next)
-->
   (<s> ^desired <d>)
   (<d> ^type goto
        ^message <msgID>
        ^place <place>)
}

sp {apply*process-message*goto*2
   (state <s> ^name responder
              ^operator <o>
              ^io.input-link.message <message>)
   (<o> ^name process-message
        ^message <msgID>)
   (<message> ^id <msgID>
          ^words <w1>)
   (<w1> ^word goto
         ^next <w2>)
   (<w2> ^word <x>
         ^next <w3>)
   (<w3> ^word <y>
         -^next)
-->
   (<s> ^desired <d>)
   (<d> ^type goto
        ^message <msgID>
        ^x <x>
        ^y <y>)
}

sp {apply*process-message*goto*3
   (state <s> ^name responder
              ^operator <o>
              ^io.input-link.message <message>)
   (<o> ^name process-message
        ^message <msgID>)
   (<message> ^id <msgID>
          ^words <w1>)
   (<w1> ^word goto
         ^next <w2>)
   (<w2> ^word <x>
         ^next <w3>)
   (<w3> ^word <x>
         ^next <w4>)
   (<w4> ^word <t>
         -^next)
-->
   (<s> ^desired <d>)
   (<d> ^type goto
        ^message <msgID>
        ^x <x>
        ^y <y>
        ^t <t>)
}

sp {apply*process-message*stop
   (state <s> ^name responder
              ^operator <o>
              ^io.input-link.message <message>)
   (<o> ^name process-message
        ^message <msgID>)
   (<message> ^id <msgID>
          ^words <w1>)
   (<w1> ^word stop
         -^next)
-->
   (<s> ^desired <d>)
   (<d> ^type stop
        ^message <msgID>)
}