sp {apply*process-message*turn*1
   (state <s> ^name responder
              ^operator <o>
              ^io.input-link.messages.message <message>)
   (<o> ^name process-message
        ^message <msgID>)
   (<message> ^id <msgID>
          ^words <w1>)
   (<w1> ^first-word turn
         ^rest <w2>)
   (<w2> ^first-word {<dir> << right left >>}
         -^rest.first-word)
-->
   (<s> ^instructions <i>)
   (<i> ^type turn
        ^message <msgID>
        ^direction <dir>)
}