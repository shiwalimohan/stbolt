# Preferences for top level operators
# create-object > ask-query > learn-att > process-message > comprehend-att > attribute-value

# Rank 1: create-object
sp {elaborate*pref-rank*create-object
   (state <s> ^name obj-analyzer
              ^operator <o> +)
   (<o> ^name create-object)
-->
   (<o> ^pref-rank 1)
}

# Rank 2: ask-query
sp {elaborate*pref-rank*ask-query
   (state <s> ^name obj-analyzer
              ^operator <o> +)
   (<o> ^name ask-query)
-->
   (<o> ^pref-rank 2)
}

# Rank 3: learn-att
sp {elaborate*pref-rank*learn-att
   (state <s> ^name obj-analyzer
              ^operator <o> +)
   (<o> ^name learn-att)
-->
   (<o> ^pref-rank 3)
}

# Rank 4: process-message
sp {elaborate*pref-rank*process-message
   (state <s> ^name obj-analyzer
              ^operator <o> +)
   (<o> ^name process-message)
-->
   (<o> ^pref-rank 4)
}

# Rank 5: comprehend-att
sp {elaborate*pref-rank*comprehend-att
   (state <s> ^name obj-analyzer
              ^operator <o> +)
   (<o> ^name comprehend-att)
-->
   (<o> ^pref-rank 5)
}

# Rank 6: attribute-value
sp {elaborate*pref-rank*attribute-value-query
   (state <s> ^name obj-analyzer
              ^operator <o> +)
   (<o> ^name attribute-value-query)
-->
   (<o> ^pref-rank 6)
}

# Prefer a lower rank to a higher one
sp {prefer*lower*pref-rank
   (state <s> ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^pref-rank <rank>)
   (<o2> ^pref-rank > <rank>)
-->
   (<s> ^operator <o1> > <o2>)
}