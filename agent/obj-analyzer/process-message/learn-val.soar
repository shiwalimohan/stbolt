# Learn the value
sp {process-message*propose*learn-val
   (state <s> ^name process-message
              ^learned-val <lv>)
   (<lv> -^learned true)
-->
   (<s> ^operator <o> +)
   (<o> ^name learn-val
        ^learned-val <lv>)
}

# Remove the learned-val structure
sp {process-message*apply*learn-val
   (state <s> ^name process-message
              ^learned-val <la>
              ^operator <o>)
   (<o> ^name learn-val
        ^learned-val <lv>)
-->
   (<lv> ^learned true)
}