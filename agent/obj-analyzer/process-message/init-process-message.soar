# Initializes the structures on the process-message substate
#	Copies a message and the current-query 

# init-process-message proposed when there is no message on the substate
sp {process-message*propose*init-process-message
   (state <s> ^name process-message
             -^message)
-->
   (<s> ^operator <o> + >)
   (<o> ^name init-process-message)
}

# Copies the newest message to the substate
sp {process-message*apply*init-process-message*message
   (state <s> ^name process-message
              ^operator.name init-process-message
              ^superstate.operator <o>)
   (<o> ^name process-message
        ^message <msg>)
-->
   (<s> ^message <msg>)
}

# Copies the current-query to the substate
sp {process-message*apply*init-process-message*current-query
   (state <s> ^name process-message
              ^operator.name init-process-message
              ^superstate.current-query <cq>)
-->
   (<s> ^current-query <cq>)
}

