### map the preposition to a long-term id in semantic memory.
### mapping failure should result in preposition learning
### preposition 'to' is not a spatial-relationship, hence special handling.


### occurs in the index-argument substate

sp {index*preposition
   (state <s> ^name index-argument
   	      ^superstate.operator <sop>)
   (<sop> ^name index-argument
   	  ^preposition <p>)
-->
   (<s> ^superoperator <sop>
   	^preposition <p>)
}

sp {propose*index-preposition*lookup-preposition
   (state <s> ^name index-argument
   	      ^preposition <p> <> to
	      -^found-prep <fprep>)
 -->
    (<s> ^operator <op> + >)
    (<op> ^name lookup-preposition
    	  ^type <p>
	  ^category <svs>
	  ^interaction true)
}

sp {write*concept-id*superstate
   (state <s> ^name index-argument
   	      ^found-prep <cid>
	      ^preposition <p>
	      ^superstate.spatial-relationship <rel>)
   (<rel> ^preposition <p>)
 -->
   (<rel> ^concept-id <cid>)
}

sp {write*concept-id*superstate*to
   (state <s> ^name index-argument
	      ^preposition to
	      ^superstate.spatial-relationship <rel>)
   (<rel> ^preposition to)
 -->
   (<rel> ^concept-id to)
}


